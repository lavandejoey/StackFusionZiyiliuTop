doctype html
html(lang=lang)
    head
        meta(charset='UTF-8')
        title= title
        meta(name='viewport', content='width=device-width, initial-scale=1.0')
        link(rel="preconnect" href="https://fonts.googleapis.com")
        link(rel='preconnect', href='https://fonts.gstatic.com', crossorigin)
        link(rel='stylesheet', href='https://fonts.googleapis.com/css2?family=Shantell+Sans:ital,wght@0,300..800;1,300..800&display=swap')
        link(rel='stylesheet', href='stylesheets/style.css')
        link(rel='stylesheet', href='modules/@fortawesome/fontawesome-free/css/all.min.css')
    body.bg-light.min-vh-100.d-flex.flex-column
        div.phoframe
        div.container-fluid.flex-grow-1(style='min-height: 100%; position: relative;display: flex; flex-direction: column;')
            // Navbar
            nav.navbar.navbar-expand-sm.navbar-light.bg-light
                div.container
                    button.navbar-toggler(type='button', data-bs-toggle='collapse', data-bs-target='#mainNavbarNav', aria-controls='navbarNav', aria-expanded='false', aria-label='Toggle navigation')
                        span.navbar-toggler-icon
                    #mainNavbarNav.collapse.navbar-collapse.d-flex
                        ul.navbar-nav
                            li.nav-item
                                a.nav-link(href=domain, class=(activePage === 'Home' ? 'active' : ''))
                                    span(class=(activePage === 'Home' ? 'underline' : '')) ZLiu's
                            li.nav-item
                                a.nav-link(href=domain + 'about_me', class=(activePage === 'About Me' ? 'active' : ''))
                                    span(class=(activePage === 'About Me' ? 'underline' : '')) #{__('About Me')}
                            li.nav-item
                                a.nav-link(href=domain + 'contact', class=(activePage === 'Contact' ? 'active' : ''))
                                    span(class=(activePage === 'Contact' ? 'underline' : '')) #{__('Contact')}
                        // Empty space to push language switcher to the right
                        div.ms-auto
                            div.dropdown.d-flex.justify-content-center.align-items-center(style='width: 100px')
                                button.btn.btn-outline-primary.no-caret.d-flex.align-items-center.justify-content-center(data-bs-toggle='dropdown')
                                    i.fas.fa-language
                                ul.dropdown-menu(style='min-width: 0; width: auto; white-space: nowrap;')
                                    li
                                        a.dropdown-item.d-flex.justify-content-center(href='?lang=en')
                                            span English
                                    li
                                        a.dropdown-item.d-flex.justify-content-center(href='?lang=fr')
                                            span Français
                                    li
                                        a.dropdown-item.d-flex.justify-content-center(href='?lang=zh-CN')
                                            span 简体中文
                                    li
                                        a.dropdown-item.d-flex.justify-content-center(href='?lang=zh-HK')
                                            span 繁體中文
            // Main content
            block content
            // Centered Footer
            //footer.w-100.d-flex.justify-content-center.py-3(style='position: absolute; bottom: 0; color: gray;')
            footer.w-100.d-flex.justify-content-center.py-3.mt-auto(style='color: gray;')
                div.text-center
                    p.mb-0
                        | Copyright &#169; 2021-
                        span(id='current-year')
                        a(href=domain, style='text-decoration: none; color: gray;')
                            |  #{author}
    script(type='text/javascript').
        document.getElementById('current-year').textContent = new Date().getFullYear();

// Include Bootstrap JS (via npm-installed file)
script(src='/javascripts/bootstrap.bundle.min.js')
script(type='module' src='/javascripts/script.js')
script(src='/modules/typewriter-effect/dist/core.js')
script(src='/modules/typewriter-effect/dist/react.js')
script(src='/modules/@fortawesome/fontawesome-free/js/all.min.js')

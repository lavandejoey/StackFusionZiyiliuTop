extends layout

block content
    // Main container that fills available space
    div.container-fluid.flex-grow-1.d-flex.justify-content-center.align-items-center
        .container.mt-3.px-3
            .row.d-flex.justify-content-evenly
                // Left Column: Greetings, context text, social icons
                .col-md-5.my-auto.d-flex.flex-column.align-items-stretch
                    // Greeting heading
                    h1.mb-2.text-center #{__("Hiiiiiiiii!")}
                    h2.mb-3.mb-md-5.text-center #{__("I'm glad you're here!")}
                    // Unified context message: responsive font size and margin
                    p.text-center.text-muted.mb-4.fs-6.fs-md-5
                        | #{__("Got questions, feedback, or want to connect? Reach out via my social media channels or email. Let's collaborate!")}
                    // Social icons container: ensure even spacing and adjust margin for mobile
                    .d-flex.justify-content-evenly.my-3
                        a(href='https://github.com/lavandejoey', target="_blank")
                            i.fab.fa-github.fa-2x(style='color: #333')
                        a(href='https://linkedin.com/in/ziyi-liu-88b872179/', target="_blank")
                            i.fab.fa-linkedin.fa-2x(style='color: #0077B5')
                        a(href='https://wa.me/330749976242', target="_blank")
                            i.fab.fa-whatsapp.fa-2x(style='color: #25D366')
                        a(href='https://www.instagram.com/lavandecn/', target="_blank")
                            i.fab.fa-instagram.fa-2x(style='color: #E4405F')
                // Separator for md and larger screens
                .d-none.d-md-flex.justify-content-center.align-items-center.col-md-2
                    hr.bg-secondary.my-0(style='width: 2px; height: 80%;')
                // Separator for smaller screens
                .d-block.d-md-none.col-12
                    hr.bg-secondary
                // Right Column: Chat form
                .col-md-5.my-auto
                    // Heading for md and smaller screens (centered)
                    h4.mb-4.text-center #{__("or, start a chat ~")}
                    form#contact-form(method='POST', action='#')
                        input(type='hidden', name='_csrf', value=csrfToken)
                        // Name row: on xs screens, stack vertically; on md, display side-by-side
                        .row.g-2.mb-3
                            .col-12.col-md-6
                                label(for="surname") #{__("Surname")}
                                input#surname.form-control(type="text", name="surname", placeholder=__("Surname"), required)
                                .invalid-feedback#surnameError
                            .col-12.col-md-6
                                label(for="first-name") #{__("First Name")}
                                input#first-name.form-control(type="text", name="firstName", placeholder=__("First Name"), required)
                                .invalid-feedback#firstNameError
                        // Email
                        .mb-3
                            label(for="email") #{__("Email")}
                            input#email.form-control(type="email", name="email", placeholder=__("Email"), required)
                            .invalid-feedback#emailError
                        // Message
                        .mb-3
                            label(for="message") #{__("Message")}
                            textarea#message.form-control(name="message", rows="5", placeholder=__("Message"), required)
                            .invalid-feedback#messageError
                        // Submit button: full-width on all devices
                        .d-grid.mt-3
                            button.btn.btn-primary(type="submit", id="send-button")
                                span #{__("Send")}
                                i.fas.fa-paper-plane.mx-2#send-icon

    style.
        /* Animation for the send icon */
        #send-icon {
            display: inline-block;
            position: relative;
            transition: color 0.2s, transform 5s ease-in, opacity 1s ease-in;
        }
        @keyframes flyAway {
            to {
                color: #bc6c25;
                transform: translate(40vw, -50vh) scale(3);
                opacity: 0;
            }
        }
        .animate-fly-away {
            animation: flyAway 1s forwards;
        }

    script.
        document.getElementById('send-button').addEventListener('click', function (event) {
            event.preventDefault();
            const icon = document.getElementById('send-icon');
            icon.classList.add('animate-fly-away');
            setTimeout(function () {
                icon.remove();
                document.querySelector('form').submit();
            }, 1000);
        });
